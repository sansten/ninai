<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="420" viewBox="0 0 1200 420" role="img" aria-label="Goal to tools execution flow">
  <defs>
    <style>
      .box{fill:#ffffff;stroke:#cbd5e1;stroke-width:2;rx:14;}
      .title{font:700 18px system-ui,Segoe UI,Arial;fill:#111;}
      .label{font:14px system-ui,Segoe UI,Arial;fill:#111;}
      .muted{font:12px system-ui,Segoe UI,Arial;fill:#475569;}
      .arrow{stroke:#334155;stroke-width:2.2;marker-end:url(#m);}
    </style>
    <marker id="m" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" fill="#334155" />
    </marker>
  </defs>

  <text class="title" x="40" y="52">Flow: request → goal → tools → evidence → review</text>

  <rect class="box" x="60" y="110" width="210" height="90"/>
  <text class="label" x="80" y="145">User request</text>
  <text class="muted" x="80" y="168">"Resolve P1 incident"</text>

  <rect class="box" x="310" y="110" width="240" height="90"/>
  <text class="label" x="330" y="145">GoalPlanner</text>
  <text class="muted" x="330" y="168">Goal + nodes</text>

  <rect class="box" x="590" y="110" width="240" height="90"/>
  <text class="label" x="610" y="145">PolicyGuard</text>
  <text class="muted" x="610" y="168">Checks + justifications</text>

  <rect class="box" x="870" y="110" width="260" height="90"/>
  <text class="label" x="890" y="145">Tool Gateway</text>
  <text class="muted" x="890" y="168">Retries + sandbox</text>

  <rect class="box" x="310" y="250" width="240" height="90"/>
  <text class="label" x="330" y="285">Evidence + Memory</text>
  <text class="muted" x="330" y="308">Traces, KB, artifacts</text>

  <rect class="box" x="590" y="250" width="240" height="90"/>
  <text class="label" x="610" y="285">Meta-supervision</text>
  <text class="muted" x="610" y="308">Escalate / approve</text>

  <line class="arrow" x1="270" y1="155" x2="310" y2="155"/>
  <line class="arrow" x1="550" y1="155" x2="590" y2="155"/>
  <line class="arrow" x1="830" y1="155" x2="870" y2="155"/>

  <line class="arrow" x1="1000" y1="200" x2="430" y2="250"/>
  <line class="arrow" x1="430" y1="340" x2="590" y2="295"/>
  <line class="arrow" x1="710" y1="250" x2="710" y2="200"/>
</svg>
