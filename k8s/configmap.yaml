apiVersion: v1
kind: ConfigMap
metadata:
  name: ninai-config
  labels:
    app: ninai
data:
  # Application settings
  APP_NAME: "Ninai"
  APP_ENV: "production"
  LOG_LEVEL: "INFO"
  
  # API settings
  API_PREFIX: "/api/v1"
  CORS_ORIGINS: "https://ninai.example.com,https://app.ninai.example.com"
  
  # Redis settings
  REDIS_URL: "redis://redis-service:6379/0"
  
  # Vector database settings
  QDRANT_HOST: "qdrant-service"
  QDRANT_PORT: "6333"
  QDRANT_GRPC_PORT: "6334"
  
  # Celery settings
  CELERY_BROKER_URL: "redis://redis-service:6379/1"
  CELERY_RESULT_BACKEND: "redis://redis-service:6379/2"
  
  # Alert delivery mode (log | deliver)
  ALERT_DELIVERY_MODE: "deliver"
  
  # SMTP settings (for alert delivery)
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_USE_TLS: "true"
  SMTP_FROM_EMAIL: "alerts@ninai.example.com"
  SMTP_USERNAME: "alerts@ninai.example.com"
  # SMTP_PASSWORD comes from secrets
  
  # LLM settings
  LLM_PROVIDER: "openai"
  LLM_MODEL: "gpt-4"
  EMBEDDING_MODEL: "text-embedding-3-large"
  
  # Memory settings
  SHORT_TERM_MEMORY_TTL: "3600"  # 1 hour in seconds
  MEMORY_CONSOLIDATION_INTERVAL: "300"  # 5 minutes
  
  # Security settings
  JWT_ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  REFRESH_TOKEN_EXPIRE_DAYS: "7"
  
  # Rate limiting (applies to admin endpoints)
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_REQUESTS: "100"
  RATE_LIMIT_WINDOW_SECONDS: "60"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ninai-frontend-config
  labels:
    app: ninai
    component: frontend
data:
  VITE_API_URL: "https://api.ninai.example.com/api/v1"
  VITE_APP_NAME: "Ninai"
  VITE_ENVIRONMENT: "production"
