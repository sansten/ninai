# This is a template for Kubernetes secrets
# DO NOT commit this file with actual values!
# Use one of these approaches in production:
#
# 1. Sealed Secrets (recommended):
#    - Install sealed-secrets controller: https://github.com/bitnami-labs/sealed-secrets
#    - Create sealed secret: kubeseal --format=yaml <secret.yaml >sealed-secret.yaml
#    - Apply sealed secret: kubectl apply -f sealed-secret.yaml
#
# 2. External Secrets Operator (recommended for Vault):
#    - Install ESO: https://external-secrets.io/
#    - Configure SecretStore to point to Vault/AWS Secrets Manager
#    - Create ExternalSecret referencing your secret paths
#
# 3. kubectl create secret (manual):
#    kubectl create secret generic ninai-secrets \
#      --from-literal=database-url='postgresql+asyncpg://user:pass@host:5432/ninai' \
#      --from-literal=jwt-secret='<generate-with-openssl-rand-base64-32>' \
#      --from-literal=openai-api-key='sk-...' \
#      --from-literal=smtp-password='...' \
#      --from-literal=slack-webhook='https://hooks.slack.com/services/...'
#
# Template below for reference only:

apiVersion: v1
kind: Secret
metadata:
  name: ninai-secrets
  labels:
    app: ninai
type: Opaque
stringData:
  # Database connection
  database-url: "postgresql+asyncpg://ninai_user:CHANGEME@postgres-service:5432/ninai_db"
  
  # JWT signing secret (generate with: openssl rand -base64 32)
  jwt-secret: "CHANGEME-generate-random-32-byte-secret"
  
  # OpenAI API key
  openai-api-key: "sk-CHANGEME"
  
  # SMTP password (for alert delivery)
  smtp-password: "CHANGEME"
  
  # Slack webhook URL (for alert delivery)
  slack-webhook: "https://hooks.slack.com/services/CHANGEME/CHANGEME/CHANGEME"

---
# Example Sealed Secret configuration (after installing sealed-secrets)
# apiVersion: bitnami.com/v1alpha1
# kind: SealedSecret
# metadata:
#   name: ninai-secrets
#   namespace: default
# spec:
#   encryptedData:
#     database-url: <sealed-base64-encrypted-value>
#     jwt-secret: <sealed-base64-encrypted-value>
#     openai-api-key: <sealed-base64-encrypted-value>
#   template:
#     metadata:
#       name: ninai-secrets
#       labels:
#         app: ninai
#     type: Opaque

---
# Example External Secret configuration (for Vault)
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: ninai-secrets
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: SecretStore
#   target:
#     name: ninai-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: database-url
#     remoteRef:
#       key: ninai/prod/database
#       property: url
#   - secretKey: jwt-secret
#     remoteRef:
#       key: ninai/prod/jwt
#       property: secret
#   - secretKey: openai-api-key
#     remoteRef:
#       key: ninai/prod/openai
#       property: api_key
#   - secretKey: smtp-password
#     remoteRef:
#       key: ninai/prod/smtp
#       property: password
#   - secretKey: slack-webhook
#     remoteRef:
#       key: ninai/prod/slack
#       property: webhook_url
