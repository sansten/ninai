# =============================================================================
# Ninai Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment.
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Ninai
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# API Settings
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
CORS_ORIGINS=["http://localhost:3000"]

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=ninai
POSTGRES_PASSWORD=ninai_dev_password
POSTGRES_DB=ninai
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Cache TTL in seconds
PERMISSION_CACHE_TTL=300

# -----------------------------------------------------------------------------
# Vector Database (Qdrant)
# -----------------------------------------------------------------------------
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=memories

# -----------------------------------------------------------------------------
# Elasticsearch (for audit log search)
# -----------------------------------------------------------------------------
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=elastic_dev_password

# -----------------------------------------------------------------------------
# Celery (Background Tasks)
# -----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/2

# -----------------------------------------------------------------------------
# LLM Configuration (Optional)
# -----------------------------------------------------------------------------
# Local-first LLM (Ollama)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=qwen2.5:7b

# Reproducible demos: return deterministic JSON stubs from /api/v1/llm/complete-json
# so notebooks and SDK examples can run without Ollama.
SANDBOX_LLM_ENABLED=false

# /llm/* helper endpoints are admin-gated by default. For local demos you can
# disable this (recommended only with SANDBOX_LLM_ENABLED=true).
LLM_ADMIN_ONLY=true

# OpenAI
OPENAI_API_KEY=
OPENAI_ORG_ID=

# Anthropic
ANTHROPIC_API_KEY=

# Default embedding model
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# -----------------------------------------------------------------------------
# Frontend Settings
# -----------------------------------------------------------------------------
VITE_API_URL=http://localhost:8000/api/v1
VITE_APP_NAME=Ninai

# -----------------------------------------------------------------------------
# Monitoring (Optional)
# -----------------------------------------------------------------------------
SENTRY_DSN=
PROMETHEUS_ENABLED=true

# -----------------------------------------------------------------------------
# Python SDK / Notebooks (client-side)
# -----------------------------------------------------------------------------
# These are read by sdk/python/ninai/client.py when creating NinaiClient()
# without explicit args.
NINAI_API_URL=http://localhost:8000/api/v1
NINAI_API_KEY=
NINAI_ORGANIZATION_ID=
